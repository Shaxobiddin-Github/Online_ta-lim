{% extends 'base.html' %}

{% block content %}

<style>
    /* Umumiy konteyner */
    .container {
        background-image: url("https://img.freepik.com/premium-photo/elegant-futuristic-light-reflection-with-grid-line-background_475456-1314.jpg");
        background-repeat: no-repeat;
        background-size: cover;
        border-radius: 15px;
        padding: 2rem;
        box-shadow: 0 4px 15px rgb(14, 54, 231);
    }

    /* Card hover effekti */
    .card:hover {
        transform: translateY(-5px);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 8px 20px rgb(20, 218, 253);
    }

    /* Card sarlavhasi */
    .card-title {
        font-size: 1.2rem;
        font-weight: bold;
        color: #00ff15;
    }

    /* Natija topilmagan holat */
    .text-center h4 {
        font-size: 1.5rem;
        font-weight: bold;
        color: #00d9ff;
    }

    .text-center p {
        font-size: 1rem;
        color: #ff0000;
    }
    li {
        margin-bottom: 10px;
        list-style-type: none;
        padding: 0;
        margin-left: 0;
        line-height: 1.5;
        margin-bottom: 10px;
        color: #30081e;
        font-size: 15px;
    }
    .item{
        text-align: center;
    }
    .item1{
        text-align: center;
    }
    .navitem{
        display: flex;
        
    }
    .navitem img{
        padding-left: 15px;
    }
    .card-body{

        text-align: left;
        padding: 20px;
    }
    .text_h2{
        padding: 10px;
    }
    .link_btn{
      padding: 100px;
      
    }
    .btn-primary:hover {
    background-color: rgba(19, 1, 182, 0.425) !important; /* Tugma fon rangi */
    color: rgb(0, 255, 13) !important; /* Matn rangi */
    }
    .transparent-btn {
    background-color: transparent !important; /* Fonsiz (shaffof) */
    border: none !important; /* Chegarasiz */
    color: black !important; /* Matn rangi */
    }

    .snayder{
        font-size: 20px;
    }
</style>


<div class="container mt-5">
    

    {% if results %}
    <div class="row g-4 item">
        {% for course in results %}
        <div class="col-md-4">
          
            <div class="card h-100 shadow-sm border-0 rounded-3 overflow-hidden">
                <div class="text_h2 mb-8 item1">
                    <h2 style="color: rgb(11, 255, 84);" class="display-6 text-primary snayder">Qidiruv natijalari: "{{ query }}"</h2>
                    <hr class="w-25 mx-auto" style="border-color: #007bff;">
                </div>
                <!-- Rasm -->
                <div class="navitem">
                    <img src="{{ course.image.url }}" alt="{{ course.title }}" class="card-img-top" style="height: 200px; object-fit: cover;">
                
                <!-- Card Body -->
                <div class="card-body d-flex flex-column justify-content-between ">
                    <!-- Sarlavha -->
                    <h5 style="font-size: 20px; color: #ff0000;" class="card-title text-truncate">{{ course.title }}</h5>
                    
                    <!-- Tavsif -->
                    <p style="color: #30081e;  font-size: 15px;"><b><i>{{ course.description|truncatechars:20 }}</i></b></p>
                    
                    <!-- Qo'shimcha ma'lumotlar -->
                    <ul class="list-unstyled small text-muted">
                        <li><strong>Narxi:</strong> {{ course.price }} so'm</li>
                        <li><strong>Boshlanish sanasi:</strong> {{ course.start_date }}</li>
                        <li><strong>Tugash sanasi:</strong> {{ course.end_date }}</li>
                        <li><strong>O'qituvchi:</strong> {{ course.teacher }}</li>
                    </ul>

                    <!-- Batafsil ma'lumot tugmasi -->
                   
                </div>
                
                </div>
               <div class="link_btn">
                <a href="{% url 'course_detail' course.id %}" class="btn btn-primary w-100 mt-auto btn transparent-btn">
                    <i class="fas fa-info-circle me-2"></i> Batafsil ma'lumot
                </a>
               </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="text-center mt-5">
        <h4 class="text-muted">Natijalar topilmadi.</h4>
        <p class="text-muted">Iltimos, boshqa kalit so'z bilan qidirib ko'ring.</p>
    </div>
    {% endif %}
</div>
{% endblock content %}